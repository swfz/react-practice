(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{42:function(e,t,a){"use strict";var n=a(30),r=a(31),c=a(14),o=a(0),l=a.n(o),u=a(114),i=a(115),s=a(113),m=a(117),d=a(116),f=a(118),b=a(32),p=a.n(b),v=function(e){return l.a.createElement(m.a,{onChange:e.onChange,label:e.label,defaultValue:e.defaultValue,type:"date"})},E=function(e){var t=p.a().subtract(8,"day").format("YYYY-MM-DD");return l.a.createElement(v,Object.assign({defaultValue:t,label:"Start Date"},e))},g=function(e){var t=p.a().subtract(1,"day").format("YYYY-MM-DD");return l.a.createElement(v,Object.assign({defaultValue:t,label:"End Date"},e))},h=function(e){return l.a.createElement("div",null,l.a.createElement(m.a,{onChange:e.onChange,label:"WorkSpaceId",variant:"outlined"}))},j=function(e){var t=Object(o.useState)([{index:0,value:""}]),a=Object(c.a)(t,2),r=a[0],u=a[1];return l.a.createElement(s.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},l.a.createElement(s.a,{item:!0,xs:1},l.a.createElement(f.a,{onClick:function(){u((function(e){return e.concat([{index:e.length,value:""}])}))},variant:"outlined",color:"default"},"+")),r.map((function(t){return l.a.createElement(s.a,{item:!0,xs:2},l.a.createElement(h,{key:t.index,index:t.index,onChange:(a=t.index,console.log("load partialChageIdInput"),function(t){var c=t.target.value;r[a].value=c,u(r);var o=r.map((function(e){return e.value}));e.setParams((function(e){return Object(n.a)({},e,{ids:o})}))})}));var a})))};a.d(t,"b",(function(){return O}));var O={key:"",ids:[],startDate:"",endDate:""};t.a=function(e){var t=Object(o.useState)(O),a=Object(c.a)(t,2),b=a[0],p=a[1],v=function(e){return function(t){var a=Object(r.a)({},e,t.target.value);p(Object(n.a)({},b,{},a))}};return l.a.createElement(u.a,null,l.a.createElement(i.a,null,l.a.createElement(s.a,{container:!0,direction:"column",justify:"space-around",spacing:4},l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(s.a,{container:!0,direction:"row",justify:"flex-start",spacing:4},l.a.createElement(s.a,{item:!0,xs:2},l.a.createElement(m.a,{onChange:v("key"),label:"API Key",type:"password",variant:"outlined"})),l.a.createElement(s.a,{item:!0,xs:2},l.a.createElement(E,{onChange:v("startDate")})),l.a.createElement(s.a,{item:!0,xs:2},l.a.createElement(g,{onChange:v("endDate")})))),l.a.createElement(s.a,{item:!0,xs:12},l.a.createElement(j,{setParams:p})))),l.a.createElement(d.a,null,l.a.createElement(f.a,{onClick:function(){e.setRequestParams(b)},variant:"outlined",color:"primary"},"Search")))}},51:function(e,t,a){"use strict";(function(e){var n=a(14),r=a(0),c=a.n(r),o=a(59),l=a(85),u=a(42),i=a(56),s=function(){var e=Object(r.useState)(0),t=Object(n.a)(e,2),a=t[0],o=t[1];console.log("render counter");var l=Object(r.useCallback)((function(){return o((function(e){return e+1}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("button",{onClick:l},"Up!"),c.a.createElement("div",null,"Count:"),c.a.createElement("div",null,a))};t.a=Object(o.hot)(e)((function(){var e=Object(r.useState)(u.b),t=Object(n.a)(e,2),a=t[0],o=t[1];return c.a.createElement("div",null,c.a.createElement(l.a,{position:"static"},"Toggl Reporter"),c.a.createElement(s,null),c.a.createElement("br",null),c.a.createElement(u.a,{setRequestParams:o}),c.a.createElement("br",null),c.a.createElement(i.a,{requestParams:a}))}))}).call(this,a(49)(e))},56:function(e,t,a){"use strict";var n=a(39),r=a.n(n),c=a(14),o=a(0),l=a.n(o),u=a(57);t.a=function(e){var t=Object(o.useState)([]),a=Object(c.a)(t,2),n=a[0],i=a[1],s=Object(o.useState)(),m=Object(c.a)(s,2),d=m[0],f=m[1];Object(o.useEffect)((function(){console.log("called change record effect"),console.log(n),console.log("called change record effect");var e=Array.from(new Set(n.map((function(e){return e.project})))),t=n.reduce((function(e,t){var a,n=t.start.split("T")[0];return e[n]||(e[n]={}),e[n][t.project]||(e[n][t.project]=0),e[n][t.project]+=(a=t.dur,Math.round(a/1e3/60/60*100)/100),e}),{});console.log(t);var a=Object.keys(t).sort().reduce((function(a,n){var r=e.map((function(e){return t[n][e]||0}));return a.push([n].concat(r)),a}),[["date"].concat(e)]);return console.log(a),f(a),function(){return f([[]])}}),[n]);var b=function t(a,n){var c=function(e,t,a){var n=e.startDate,r=e.endDate,c="https://toggl.com/reports/api/v2/details.json?page=".concat(a,"&workspace_id=").concat(t,"&since=").concat(n,"&until=").concat(r,"&user_agent=client");return console.log("params-----------------"),console.log(e),console.log("params-----------------"),c}(e.requestParams,a,n),o=function(e){var t=btoa("".concat(e.key,":api_token")),a=new Headers;return a.set("Authorization","Basic ".concat(t)),{method:"GET",headers:a}}(e.requestParams);return fetch(c,o).then((function(e){return e.json()})).then((function(e){var c;return r.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(c=e.total_count,!((n-1)*e.per_page+e.data.length<c)){o.next=10;break}return o.t0=e.data,o.next=6,r.a.awrap(t(a,n+1));case 6:return o.t1=o.sent,o.abrupt("return",o.t0.concat.call(o.t0,o.t1));case 10:return o.abrupt("return",e.data);case 11:case"end":return o.stop()}}))}))};return Object(o.useEffect)((function(){if(e.requestParams.key){var t=e.requestParams.ids.map((function(e){return b(e,1)}));Promise.all(t).then((function(e){i(e.flat(1))}))}}),[e.requestParams]),l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,{width:"800px",height:"500px",chartType:"BarChart",loader:l.a.createElement("div",null,"Loading Chart"),data:d,options:{isStacked:!0},rootProps:{"data-testid":"2"}}))}},69:function(e,t,a){e.exports=a(84)},75:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);a(70);var n=a(0),r=a.n(n),c=a(7),o=a.n(c),l=(a(75),a(27)),u=a(35),i=a(51);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(62),m=a(11),d=a(43),f=a(17),b=Object(f.a)({basename:""}),p=Object(m.combineReducers)({router:Object(u.b)(b)}),v=Object(d.a)({reducer:p,middleware:Object(s.a)(Object(d.b)())});o.a.render(r.a.createElement(l.a,{store:v},r.a.createElement(u.a,{history:b},r.a.createElement(i.a,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[69,1,2]]]);
//# sourceMappingURL=main.d4ab0017.chunk.js.map